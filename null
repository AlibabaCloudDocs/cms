# CloudMonitor Java agent overview

The host monitoring feature of CloudMonitor monitors your hosts by using the CloudMonitor agents that are installed on the hosts.

**Warning:** The Java agent is no longer upgraded. We recommend that you use the GoLang agent.

## Installation path

-   Linux: /usr/local/cloudmonitor
-   Windows: C:\\Program Files\\Alibaba\\cloudmonitor

## Processes

After the Java agent is installed, the following two processes run on your hosts:

-   /usr/local/cloudmonitor/jre/bin/java
-   /usr/local/cloudmonitor/wrapper/bin/wrapper

## Ports

-   The Java agent accesses and listens on TCP port 32000 of the local host to daemonize processes.
-   The Java agent accesses TCP port 3128, 8080, or 443 of a remote host to send heartbeat messages and report monitoring data. The Java agent that is installed on an Alibaba Cloud Elastic Compute Service \(ECS\) instance accesses port 3128 or 8080, whereas the Java agent that is installed on a host that is not provided by Alibaba Cloud accesses port 443.
-   The Java agent accesses HTTP port 80 of a remote host to obtain upgrade packages.

## Logs

-   The Java agent stores monitoring logs in the /usr/local/cloudmonitor/logs directory.
-   The Java agent stores other logs such as those about process startup, shutdown, and daemonization in the /usr/local/cloudmonitor/wrapper/logs directory.
-   You can modify the /usr/local/cloudmonitor/config/log4j.properties file to adjust the log level.

## Resource usage

-   The /usr/local/cloudmonitor/wrapper/bin/wrapper process occupies about 1 MB of memory and few CPU resources.
-   The /usr/local/cloudmonitor/jre/bin/java process occupies about 70 MB of memory and 1% to 2% of one CPU core.
-   The size of the installation package is 75 MB. The Java agent occupies about 200 MB of disk space after it is installed.
-   Logs can occupy up to 40 MB of disk space. When the log size exceeds 40 MB, earlier logs are deleted.
-   The Java agent reports monitoring data at an interval of 15 seconds, which occupies about 10 Kbit/s of network bandwidth.
-   The Java agent sends a heartbeat message at an interval of 3 minutes, which occupies about 2 Kbit/s of network bandwidth.

## External dependencies

-   The Java agent is built in with Java Runtime Environment \(JRE\) 1.8.
-   Java Service Wrapper is used to provide features such as daemonizing processes, starting processes at the system boot, and registering the Java agent as a Windows service.
-   The Java agent runs the `ss -s` command to collect the number of TCP connections. If your operating system does not support this command, you must install the iproute utility.

## Installation guide

For more information, see [Install the CloudMonitor Java agent](/intl.en-US/Host monitoring/Install the CloudMonitor Java agent.md).

## Install the Java agent on a host that is not provided by Alibaba Cloud

1.  Log on to the [CloudMonitor console](https://cms-intl.console.aliyun.com).
2.  In the left-side navigation pane, click **Host Monitoring**.
3.  On the Host Monitoring page, click **Not Aliyun ecs install**. In the **Monitor Install Guide** right-side pane, select the type and operating system of the target host and install the Java agent as instructed.

