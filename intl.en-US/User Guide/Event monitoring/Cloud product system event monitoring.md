# Cloud product system event monitoring {#concept_wh4_jjb_wdb .concept}

System event monitoring allows you to monitor and query system events generated by multiple cloud services, enabling you to gain better insights into your cloud usage.

After resources are classified by application group, system events generated by cloud products are automatically associated with the resources in the group, which helps you to integrate various types of monitoring information, so as to quickly analyze and locate problems if any.

At the same time, an alarm function is provided for system events. You can configure alarm rules and receive alarm notifications through different methods, such as email and DingTalk chatbot, according to the event level. You can also use callbacks to learn system events. In this way, you can learn serious events at the earliest possible time and handle them in time, making online operation and maintenance automatic.

## View system events {#section_i2t_nlk_zdb .section}

-   **Method 1**
    1.  Log on to the [CloudMonitor console](https://partners-intl.console.aliyun.com/#/cms).
    2.  In the left-side navigation pane, click **Event Monitoring**.
    3.  On the **Query Event** tab page, select **System Event**, the target product, the target event type, and the target event from the drop-down lists. Then, select a time period to view the events within this period.

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/6167/15507460474910_en-US.png)

    4.  Click **View the Detail** in the **Operation** column to view the details of an event.

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/6167/15507460474911_en-US.png)

-   **Method 2**

    If your resources are allocated into application groups, you can also view system events for the instances in each group on the application group page.

    1.  Log on to the [CloudMonitor console](https://partners-intl.console.aliyun.com/#/cms).
    2.  In the left-side navigation pane, click **Application Groups**.
    3.  Find the target application group and click the group name.
    4.  In the left-side navigation pane, click **Event Monitor**. System events for the instances in the group are displayed.

## Use system event alarms {#section_m1x_dmk_zdb .section}

You can set alarm rules for all system events, so that you will be quickly notified in the case of any system events. The following two notification methods are provided:

-   Send alarm notifications by email or DingTalk chatbot.
-   Notify you of the events through MNS queue, Function Compute service, or URL callback so that you can handle event exceptions according to you service scenarios.

**Create an alarm rule**

1.  Log on to the [CloudMonitor console](https://partners-intl.console.aliyun.com/#/cms).
2.  In the left-side navigation pane, click **Event Monitoring**.
3.  Click the **Alarm Rules** tab.
4.  In the upper-right corner, click **Create Event Alerts**.
5.  In the **Basic Information** area, enter an **Alarm Rule Name**.
6.  In the **Event alert** area, set the following parameters:
    -   **Event Type**: Select **System Event**.
    -   **Product Type**, **Event Type**, **Event Level**, and **Event Name**: Select the target product type, event type, event level, and event name.
    -   **Resource Range**:
        -   **All Resources**: You will be notified of any event that occurs to any of your resources.
        -   **Application Groups**: You will be notified of the events that are associated with the application group you specify.
7.  Select the **Alarm Type** and then click **OK**.

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/6167/15507460474916_en-US.png)


**Test an alarm rule**

A test function is provided for system event alarms. You can simulate system events to check whether you can be notified of system events as you have specified in alarm rules, for example, whether event alarms can be transferred through MNS queue and whether functions in the Function Compute service can be triggered.

1.  Log on to the [CloudMonitor console](https://partners-intl.console.aliyun.com/#/cms).
2.  In the left-side navigation pane, click **Event Monitoring**.
3.  Click the **Alarm Rules** tab to go to the alarm rule list page.

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/6167/155074604738087_en-US.png)

4.  Click **Test** in the **Actions** column.
5.  Select the event from the **Event Name** drop-down list, and the content of the event will be displayed in the **Content** field. You can modify the content, such as the instance ID as needed.

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/6167/155074604738378_en-US.png)

6.  Click **OK**. An event will be sent and the alarm notification method you have specified in your alarm rule, such as alarm notification, MNS queue, Function service, and URL callback, will be triggered.

## Supported system events of different cloud products {#section_i2b_hmk_zdb .section}

-   ECS

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |Instance:InstanceFailure.Reboot|Instance reboot due to instance failure has started.|Executing|CRITICAL|
    |Instance:InstanceFailure.Reboot|Instance reboot due to instance failure has ended.|Executed|CRITICAL|
    |Instance:SystemFailure.Reboot|Instance reboot due to system failure has started.|Executing|CRITICAL|
    |Instance:SystemFailure.Reboot|Instance reboot due to system failure has ended.|Executed|CRITICAL|
    |Instance:SystemMaintenance.Reboot|Instance reboot is scheduled due to system maintenance.|Scheduled|CRITICAL|
    |Instance:SystemMaintenance.Reboot|Scheduled instance reboot for system maintenance is avoided.|Avoided|CRITICAL|
    |Instance:SystemMaintenance.Reboot|Scheduled instance reboot for system maintenance has started.|Executing|CRITICAL|
    |Instance:SystemMaintenance.Reboot|Scheduled instance reboot for system maintenance has ended.|Executed|CRITICAL|
    |Instance:SystemMaintenance.Reboot|Scheduled instance reboot for system maintenance is cancelled.|Canceled|CRITICAL|
    |Instance:SystemMaintenance.Reboot|Scheduled instance reboot for system maintenance has failed.|Failed|CRITICAL|
    |Disk:Stalled|A serious impact on disk performance begins.|Executing|CRITICAL|
    |Disk:Stalled|A serious impact on disk performance stops.|Executed|CRITICAL|
    |Instance:StateChange|Instance status changes.|Normal|INFO|
    |Instance:PreemptibleInstanceInterruption|A preemptible instance is interrupted.|Normal|WARN|

    **Note:** 

    -   You can view the instance status in event details. Ihe instance statuses are:

        -   Pending: the status after an instance is created and before it begins to run
        -   Starting: the status of an instance that is being started
        -   Running: the status of an instance that is running
        -   Stopping: the status of an instance that is being stopped
        -   Stopped: the status of an instance that has stopped or expired or been locked, or that is about to expire, is being recycled upon overdue payment, or is waiting for release
        -   Deleted: the status of an instance that has been released
        For more information, see [Preemptible instance](https://partners-intl.aliyun.com/help/doc-detail/52088.htm).

    -   Reasons that a preemptible instance is about to be recycled:

        -   Your bid is lower than the current market price.
        -   The supply and demand relationship of resources changes.
        For more information, see [Preemptible instance](https://partners-intl.aliyun.com/help/doc-detail/52088.htm).


-   SLB

    |Event|Description|Event level|
    |:----|:----------|:----------|
    |CertKeyExpired\_1|The certificate will expire in one day.|WARN|
    |CertKeyExpired\_3|The certificate will expire in three days.|WARN|
    |CertKeyExpired\_7|The certificate will expire in seven days.|WARN|
    |CertKeyExpired\_15|The certificate will expire in 15 days.|WARN|
    |CertKeyExpired\_30|The certificate will expire in 30 days.|WARN|
    |CertKeyExpired\_60|The certificate will expire in 60 days.|WARN|


-   OSS

    |Event|Description|Event level|
    |:----|:----------|:----------|
    |BucketEgressBandwidth|Bucket downstream bandwidth exceeds the reporting threshold.|INFO|
    |BucketEgressBandwidthThresholdExceeded|Bucket downstream bandwidth exceeds the flow control threshold.|WARN|
    |BucketIngressBandwidth|Bucket upstream bandwidth exceeds the reporting threshold.|INFO|
    |BucketIngressBandwidthThresholdExceeded|Bucket upstream bandwidth exceeds the flow control threshold.|WARN|
    |UserEgressBandwidth|User downstream bandwidth exceeds the reporting threshold.|INFO|
    |UserEgressBandwidthThresholdExceeded|User downstream bandwidth exceeds the flow control threshold.|WARN|
    |UserIngressBandwidth|User upstream bandwidth exceeds the reporting threshold|INFO|
    |UserIngressBandwidthThresholdExceeded|User upstream bandwidth exceeds the flow control threshold|WARN|

-   Auto Scaling

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |AUTOSCALING:SCALE\_IN\_ERROR|The scaling-in of a scaling group fails.|Unnormal|CRITICAL|
    |AUTOSCALING:SCALE\_IN\_SUCCESS|The scaling-in of a scaling group succeeds.|Normal|INFO|
    |AUTOSCALING:SCALE\_OUT\_ERROR|The scaling-out of a scaling group fails.|Unnormal|CRITICAL|
    |AUTOSCALING:SCALE\_OUT\_SUCCESS|The scaling-out of a scaling group succeeds.|Normal|INFO|
    |AUTOSCALING:SCALE\_REJECT|The scaling of a scaling group is rejected.|Warn|WARN|
    |AUTOSCALING:SCHEDULE\_TASK\_EXPIRING|Expiration reminder|Warn|WARN|
    |AUTOSCALING:SCALE\_OUT\_START|The scaling-out of a scaling group starts.|normal|INFO|
    |AUTOSCALING:SCALE\_IN\_START|The scaling-in of a scaling group starts.|normal|INFO|

-   IoT

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |RuleEngineProcessFa|The rule engine fails.|Failed|WARN|

-   Smart Access Gateway

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |AccessGatewayFailover|Access points switch over.|Agwfailover|INFO|
    |ConnectionDisconnect|The network is disconnected.|Disconnect|CRITICAL|
    |DeviceHacked|Devices are attacked.|Hacked|CRITICAL|
    |DeviceOffline|Devices become offline.|Offline|CRITICAL|
    |DeviceOnline|Devices become online.|Online|INFO|

-   CloudMonitor

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |Group\_AddResourcesFailed\_QuotaReached|Fails to automatically add a server into an application group because the resource quota is exceeded.|Failed|CRITICAL|
    |Agent\_Status\_Stopped|The agent fails to respond to the heartbeat check.|Stopped|CRITICAL|
    |Agent\_Status\_Running|The agent resumes heartbeat.|Running|CRITICAL|

-   DBS

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |CloseContBackup|Incremental backup is disabled.|Failed|INFO|
    |ContBackupFail|An error occurs during an incremental backup.|Failed|WARN|
    |DataRestoreFail|An error occurs during data recovery.|Failed|WARN|
    |DataRestoreSuccess|Data recovery succeeds.|Running|WARN|
    |FullBackupFail|An error occurs during a full backup.|Failed|WARN|
    |InstancePause|A backup plan pauses.|Failed|INFO|
    |InstanceStart|A backup plan starts.|Running|INFO|
    |OpenContBackup|Incremental backup is enabled.|Running|INFO|

-   RDS

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |Instance\_Failover|The master and slave instances switch over.|Executed|WARN|
    |Instance\_Failure\_Start|Instance fault starts.|Executing|CRITICAL|
    |Instance\_Failure\_End|Instance fault ends.|Executed|CRITICAL|

-   Redis

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |Instance\_Failover|The master and slave instances switch over.|Executed|WARN|
    |Instance\_Failure\_Start|Instance failure starts.|Executing|CRITICAL|
    |Instance\_Failure\_End|Instance failure ends.|Executed|CRITICAL|

-   MongoDB

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |Instance\_Failure\_Start|Instance fault starts.|Executing|CRITICAL|
    |Instance\_Failure\_End|Instance fault ends.|Executed|CRITICAL|

-   Container Service for Swarm

    |Event|Description|Status|Event level|
    |:----|:----------|:-----|:----------|
    |NodeServiceAbnormal|The node status is abnormal.|Abnormal|CRITICAL|
    |ServiceStatusAbnormal|The service status is abnormal.|Abnormal|CRITICAL|


