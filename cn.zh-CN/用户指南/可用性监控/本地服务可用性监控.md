# 本地服务可用性监控 {#concept_d4j_rvf_vdb .concept}

本文为您介绍如何监控本地服务进程的可用性，当本地服务出现响应超时或状态码错误时，发送报警通知。

## 背景信息 {#section_xnx_z3l_ngb .section}

本地服务可用性监控可以帮助云用户快速发现本地服务无响应的情况，并能够在出现响应超时或状态码错误时发送报警通知。

## 创建本地服务可用性监控的准备工作 {#section_ost_4bg_vdb .section}

-   本地服务可用性监控依赖云监控插件，被监控主机需要安装云监控插件，详情请参见[云监控Go语言版本插件介绍](intl.zh-CN/用户指南/主机监控/云监控Go语言版本插件介绍.md#)。
-   使用本地服务可用性监控前，请先[创建应用分组](intl.zh-CN/用户指南/应用分组/创建应用分组.md#)。

## 创建本地服务可用性监控的实施步骤 {#section_py5_zk5_xgb .section}

**注意事项**

**说明：** 

-   本地服务可用性监控依赖云监控插件，请确保主机已安装云监控插件。
-   可用性探测频率为每分钟1次。

**操作步骤**

1.  登录[云监控控制台](https://cms-intl.console.aliyun.com)。
2.  单击左侧导航栏中的**应用分组**，进入应用分组页面。
3.  选择需要创建本地服务可用性监控的应用分组，单击应用分组名称，进入应用分组详情页面。
4.  单击左侧导航栏中的**可用性监控**，进入可用性监控页面。
5.  单击页面右上角的**新建配置**按钮，进入创建可用性监控页面。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/6170/155132115939724_zh-CN.png)

6.  输入任务名称，选择探测源（可以是分组内的所有机器配置相同的探测规则，也可以只是部分机器配置相同的探测规则）。
7.  选择探测类型和探测目标：支持**URL或者IP**、**云数据库RDS版**、**云数据库Redis版**三种探测类型。
8.  选择报警配置，报警支持状态码和响应时间两种配置，任何一种配置达到阈值后都会触发报警。报警会发送给应用分组的联系人组。
9.  完成以上配置后，单击**确定**按钮，即可完成一个本地服务可用性监控的创建。当您的服务无响应时会发出短信、邮件等报警通知。
10. （可选）在可用性监控列表中会显示发生报警的异常机器数，单击**探测异常机器数**，可查看异常机器详情。

**参数说明**

-   **监控配置**区域：
    -   **探测源**：即探测的发起方，本地服务可用性探测源和探测目标都是机器本身。
    -   **探测类型**：选择URL或者IP。
    -   **探测目标**：HTTP\(S\)填写格式为`localhost:port/path`；TELNET填写格式为`127.0.0.1:port`。比如要探测tomcat是否响应正常，选择HTTP\(S\)后填写`localhost:8080/monitor`；要探测mysql的连通性，选择TELNET后填写`127.0.0.1:3306`。

-   **报警配置**区域：

    报警支持**状态码**和**响应时间**两种配置，任何一种配置达到阈值后都会触发报警。报警会发送给应用分组的联系人组。本地可用性监控配置状态码大于400即可。

    -   **状态码**：探测的状态码满足报警设置时就触发报警。
    -   **通知方式**：报警通知的发送渠道。
    -   **高级配置**：
        -   **通道沉默时间**：报警发生后如果未恢复正常，间隔多久重复发送一次报警通知。
        -   **生效时间**：报警规则的生效时间，只会在生效时间内检查监控数据是否需要报警。可根据实际情况自行配置。

